{% extends 'index.html' %} {%load static%} {% block body %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

<!-- jQuery library -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->

<!-- Popper JS -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> -->

<!-- Latest compiled JavaScript -->
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


                <div class="row">
                    <div class="col card m-2 p-4">
                        <div>
                            <div>
                                <span class="ml-1">Deals by Country</span>
                            </div>
                            <canvas id="chart1"></canvas>
                        </div>
                    </div>
                    <div class="col card m-2 p-4">
                        <div>
                            <div>
                                <span class="ml-1">Deals by Region</span>
                            </div>
                            <canvas id="chart2"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col card m-2 p-4">
                        <div>
                            <div>
                                <span class="ml-1">Deals by Device</span>
                            </div>
                            <canvas id="chart3"></canvas>
                        </div>
                    </div>
                    <div class="col card m-2 p-4">
                        <div>
                            <div>
                                <span class="ml-1">Pages Visited</span>
                            </div>
                            <canvas id="chart4"></canvas>
                        </div>
                    </div>
              
    

    <script>
        $(document).ready(function () {
            App.init();
        });
    </script>
    <script src="{%static 'js/custom.js'%}"></script>
    <script>
        var labels1 = {{ country_labels| safe }};
        const data1 = {
            labels: labels1,
            datasets: [
                {
                    label: "Deals",
                    backgroundColor: "rgb(0, 0, 255)",
                    borderColor: "rgb(0, 0, 255)",
                    data: {{ country_graph| safe }}
                }
            ]
        };
        const config1 = {
            type: "bar",
            data: data1,
            options: {}
        };
        const myChart1 = new Chart(document.getElementById("chart1"), config1);
        var labels2 = {{ region_labels| safe }};
        const data2 = {
            labels: labels2,
            datasets: [
                {
                    label: "Deals",
                    backgroundColor: "rgb(0, 0, 255)",
                    borderColor: "rgb(0, 0, 255)",
                    data: {{ region_graph| safe }}
                }
            ]
        };
        const config2 = {
            type: "bar",
            data: data2,
            options: {}
        };
        const myChart2 = new Chart(document.getElementById("chart2"), config2);
        var labels3 = {{ device_labels| safe }};
        const data3 = {
            labels: labels3,
            datasets: [
                {
                    label: "Deals",
                    backgroundColor: "rgb(0, 0, 255)",
                    borderColor: "rgb(0, 0, 255)",
                    data: {{ device_graph| safe }}
                }
            ]
        };
        const config3 = {
            type: "bar",
            data: data3,
            options: {}
        };
        const myChart3 = new Chart(document.getElementById("chart3"), config3);
        var labels4 = {{ pages_labels| safe }};
        const data4 = {
            labels: labels4,
            datasets: [
                {
                    label: "Number of Clicks",
                    backgroundColor: "rgb(0, 0, 255)",
                    borderColor: "rgb(0, 0, 255)",
                    data: {{ pages_graph| safe }}
                }
            ]
        };
        const config4 = {
            type: "bar",
            data: data4,
            options: {}
        };
        const myChart4 = new Chart(document.getElementById("chart4"), config4);
    </script>

    {% endblock body %}